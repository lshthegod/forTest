name: Check Environment Variables

on:
  # 수동 실행: GitHub Actions 탭에서 "Run workflow" 버튼으로 즉시 실행 가능
  workflow_dispatch:

jobs:
  check-env-vars:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Check Required Environment Variables
        run: |
          echo "🔍 환경 변수 존재 여부 확인 중..."
          echo "=================================="
          
          # UPSTAGE API Keys 확인
          echo "📋 UPSTAGE API Keys:"
          if [ -n "${{ secrets.UPSTAGE_API_KEY }}" ]; then
            echo "✅ UPSTAGE_API_KEY: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.UPSTAGE_API_KEY1 }}" ]; then
            echo "✅ UPSTAGE_API_KEY1: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY1: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.UPSTAGE_API_KEY2 }}" ]; then
            echo "✅ UPSTAGE_API_KEY2: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY2: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.UPSTAGE_API_KEY3 }}" ]; then
            echo "✅ UPSTAGE_API_KEY3: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY3: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.UPSTAGE_API_KEY4 }}" ]; then
            echo "✅ UPSTAGE_API_KEY4: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY4: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.UPSTAGE_API_KEY5 }}" ]; then
            echo "✅ UPSTAGE_API_KEY5: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY5: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.UPSTAGE_API_KEY6 }}" ]; then
            echo "✅ UPSTAGE_API_KEY6: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY6: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.UPSTAGE_API_KEY7 }}" ]; then
            echo "✅ UPSTAGE_API_KEY7: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY7: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.UPSTAGE_API_KEY8 }}" ]; then
            echo "✅ UPSTAGE_API_KEY8: 존재함"
          else
            echo "❌ UPSTAGE_API_KEY8: 존재하지 않음"
          fi
          
          echo ""
          echo "📋 NOTION 관련 환경 변수:"
          if [ -n "${{ secrets.NOTION_API_KEY }}" ]; then
            echo "✅ NOTION_API_KEY: 존재함"
          else
            echo "❌ NOTION_API_KEY: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.NOTION_DATABASE_ID }}" ]; then
            echo "✅ NOTION_DATABASE_ID: 존재함"
          else
            echo "❌ NOTION_DATABASE_ID: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.NOTION_PAGE_ID_1 }}" ]; then
            echo "✅ NOTION_PAGE_ID_1: 존재함"
          else
            echo "❌ NOTION_PAGE_ID_1: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.NOTION_PAGE_ID_2 }}" ]; then
            echo "✅ NOTION_PAGE_ID_2: 존재함"
          else
            echo "❌ NOTION_PAGE_ID_2: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.NOTION_PAGE_ID_3 }}" ]; then
            echo "✅ NOTION_PAGE_ID_3: 존재함"
          else
            echo "❌ NOTION_PAGE_ID_3: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.NOTION_PAGE_ID_4 }}" ]; then
            echo "✅ NOTION_PAGE_ID_4: 존재함"
          else
            echo "❌ NOTION_PAGE_ID_4: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.NOTION_PAGE_ID_5 }}" ]; then
            echo "✅ NOTION_PAGE_ID_5: 존재함"
          else
            echo "❌ NOTION_PAGE_ID_5: 존재하지 않음"
          fi
          
          echo ""
          echo "📋 Google Drive 관련 환경 변수:"
          if [ -n "${{ secrets.GDRIVE_FOLDER_ID }}" ]; then
            echo "✅ GDRIVE_FOLDER_ID: 존재함"
          else
            echo "❌ GDRIVE_FOLDER_ID: 존재하지 않음"
          fi
          
          if [ -n "${{ secrets.GDRIVE_CREDENTIALS_JSON }}" ]; then
            echo "✅ GDRIVE_CREDENTIALS_JSON: 존재함"
          else
            echo "❌ GDRIVE_CREDENTIALS_JSON: 존재하지 않음"
          fi
          
          echo ""
          echo "📋 GitHub 관련 환경 변수:"
          if [ -n "${{ secrets.GITHUB_PERSONAL_ACCESS_TOKEN }}" ]; then
            echo "✅ GITHUB_PERSONAL_ACCESS_TOKEN: 존재함"
          else
            echo "❌ GITHUB_PERSONAL_ACCESS_TOKEN: 존재하지 않음"
          fi
          
          echo ""
          echo "📋 기타 환경 변수:"
          if [ -n "${{ secrets.OPENAI_API_KEY }}" ]; then
            echo "✅ OPENAI_API_KEY: 존재함 (주석 처리됨)"
          else
            echo "❌ OPENAI_API_KEY: 존재하지 않음 (주석 처리됨)"
          fi
          
          echo ""
          echo "=================================="
          echo "✅ 환경 변수 확인 완료!"

      - name: Summary
        run: |
          echo "📊 환경 변수 요약:"
          echo "총 확인된 환경 변수: 18개"
          echo "- UPSTAGE API Keys: 9개"
          echo "- NOTION 관련: 7개"
          echo "- Google Drive 관련: 2개"
          echo "- GitHub 관련: 1개"
          echo ""
          echo "💡 참고: 이 워크플로우는 환경 변수의 존재 여부만 확인하며,"
          echo "실제 값의 유효성은 검증하지 않습니다."